{% extends 'base.html' %}
{% load static %}
{% load i18n %}
{% load i18n_tags %}

{% block title %}{% trans "Home" %} - {{ block.super }}{% endblock %}

{% block content %}

<!-- HERO SECTION -->
<section class="hero" id="home">
  <div class="container">
    <h2 class="h1 hero-title">{% trans "Journey to explore world" %}</h2>

    <p class="hero-text">
      {% trans "Discover amazing destinations and unforgettable experiences with our carefully curated tour packages." %}
    </p>

    <div class="btn-group">
      <a href="{% url 'destinations:destination_list' %}" class="btn btn-primary">{% trans "Learn more" %}</a>
      <a href="{% url 'packages:package_list' %}" class="btn btn-secondary">{% trans "Book now" %}</a>
    </div>
  </div>
</section>

<!-- POPULAR DESTINATIONS -->
<section class="popular" id="destination">
  <div class="container">
    <p class="section-subtitle">{% trans "Uncover place" %}</p>

    <h2 class="h2 section-title">{% trans "Popular destination" %}</h2>

    <p class="section-text">
      {% trans "Explore our most popular travel destinations" %}
    </p>

    <ul class="popular-list">
      {% for destination in featured_destinations %}
        <li>
          <div class="popular-card">
            {% if destination.main_image %}
              <figure class="card-img">
                <img src="{{ destination.main_image.url }}" alt="{{ destination|get_translated:'title' }}" loading="lazy">
              </figure>
            {% endif %}

            <div class="card-content">
              <div class="card-rating">
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
                <ion-icon name="star"></ion-icon>
              </div>

              <p class="card-subtitle">
                <a href="{% url 'destinations:destination_detail' destination.slug %}">{{ destination|get_translated:'title' }}</a>
              </p>

              <h3 class="h3 card-title">
                <a href="{% url 'destinations:destination_detail' destination.slug %}">{{ destination|get_translated:'short_description'|truncatewords:10 }}</a>
              </h3>

              <p class="card-text">
                {{ destination|get_translated:'description'|truncatewords:15 }}
              </p>
            </div>
          </div>
        </li>
      {% empty %}
        <li><p>{% trans "No destinations available at the moment." %}</p></li>
      {% endfor %}
    </ul>

    <a href="{% url 'destinations:destination_list' %}" class="btn btn-primary">{% trans "More destintion" %}</a>
  </div>
</section>

<!-- PACKAGES -->
<section class="package" id="package">
  <div class="container">
    <p class="section-subtitle">{% trans "Popular Packages" %}</p>

    <h2 class="h2 section-title">{% trans "Checkout Our Packages" %}</h2>

    <p class="section-text">
      {% trans "Find the perfect tour package for your next adventure" %}
    </p>

    <ul class="package-list">
      {% for package in featured_packages %}
        <li>
          <div class="package-card">
            {% if package.main_image %}
              <figure class="card-banner">
                <img src="{{ package.main_image.url }}" alt="{{ package|get_translated:'title' }}" loading="lazy">
              </figure>
            {% endif %}

            <div class="card-content">
              <h3 class="h3 card-title">{{ package|get_translated:'title' }}</h3>

              <p class="card-text">
                {{ package|get_translated:'description'|truncatewords:20 }}
              </p>

              <ul class="card-meta-list">
                <li class="card-meta-item">
                  <div class="meta-box">
                    <ion-icon name="time"></ion-icon>
                    <p class="text">{{ package|get_translated:'duration' }}</p>
                  </div>
                </li>

                <li class="card-meta-item">
                  <div class="meta-box">
                    <ion-icon name="people"></ion-icon>
                    <p class="text">{{ package.max_people }}+</p>
                  </div>
                </li>

                <li class="card-meta-item">
                  <div class="meta-box">
                    <ion-icon name="location"></ion-icon>
                    <p class="text">{{ package.destination|get_translated:'title' }}</p>
                  </div>
                </li>
              </ul>
            </div>

            <div class="card-price">
              <div class="wrapper">
                <p class="reviews">({{ package.bookings.count }} {% trans "reviews" %})</p>

                <div class="card-rating">
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                  <ion-icon name="star"></ion-icon>
                </div>
              </div>

              <p class="price">
                {{ package.price }} {{ package.currency }}
                <span>/ {% trans "per person" %}</span>
              </p>

              <a href="{% url 'packages:package_detail' package.slug %}" class="btn btn-secondary">{% trans "Book Now" %}</a>
            </div>
          </div>
        </li>
      {% empty %}
        <li><p>{% trans "No packages available at the moment." %}</p></li>
      {% endfor %}
    </ul>

    <a href="{% url 'packages:package_list' %}" class="btn btn-primary">{% trans "View All Packages" %}</a>
  </div>
</section>

<!-- GALLERY -->
<section class="gallery" id="gallery">
  <div class="container">
    <p class="section-subtitle">{% trans "Photo Gallery" %}</p>

    <h2 class="h2 section-title">{% trans "Photo's From Travellers" %}</h2>

    <p class="section-text">
      {% trans "Browse beautiful moments captured by our travelers" %}
    </p>

    <ul class="gallery-list">
      {% for image in latest_gallery_images %}
        <li class="gallery-item">
          <figure class="gallery-image">
            <img src="{{ image.image.url }}" alt="{{ image|get_translated:'caption' }}">
          </figure>
        </li>
      {% endfor %}
    </ul>

    <a href="{% url 'gallery:gallery' %}" class="btn btn-primary">{% trans "View More" %}</a>
  </div>
</section>

<!-- CTA (Contact/Booking) -->
<section class="cta" id="contact">
  <div class="container">
    <div class="cta-content">
      <p class="section-subtitle">{% trans "Call To Action" %}</p>

      <h2 class="h2 section-title">{% trans "Ready For Unforgatable Travel. Remember Us!" %}</h2>

      <p class="section-text">
        {% trans "Contact us today to plan your perfect journey" %}
      </p>
    </div>

    <a href="{% url 'packages:package_list' %}" class="btn btn-secondary">{% trans "Contact Us !" %}</a>
  </div>
</section>

{% endblock content %}
